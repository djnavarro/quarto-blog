---
title: "Plotting data in Julia"
description: "This is a subtitle"
date: "2024-03-03"
categories: ["Julia", "Data Visualisation"]
jupyter: julia-1.10
--- 

```{julia}
#| include: false
using Pkg
Pkg.activate("sandbox");
```

<!--------------- post begins here ----------------->


Using the [Plots](https://docs.juliaplots.org/latest/) package

```{julia}
#| eval: false
using PalmerPenguins
using Plots
using StatsPlots
```

Load penguins data: initially importat as CSV.file, then converted to DataFrame

```{julia}
#| eval: false
penguins = DataFrame(PalmerPenguins.load()) 
```

I'll start with scatter plot. I could use `scatter()` here to avoid needing to set the seriestype
explicitly, but for learning purposes I find it a little easier to work with `plot()` for everything and control plot type via explicit attribute values:

```{julia}
#| eval: false
plot(
  penguins.bill_length_mm, 
  penguins.bill_depth_mm, 
  seriestype=:scatter
)
```

It's little awkward to refer to the `penguins` data frame repeatedly in this code, and so it's more convenient to use the `@df` macro:

```{julia}
#| eval: false
@df penguins plot(
  :bill_length_mm,
  :bill_depth_mm,
  seriestype=:scatter,
  group=:species
)
```

Adding labels is achieved by modifying the relevant attributes:

```{julia}
#| eval: false
@df penguins plot(
  :bill_length_mm,
  :bill_depth_mm,
  seriestype=:scatter,
  group=:species,
  title="Palmer Penguins",
  xlabel="Bill Length (mm)",
  ylabel="Bill Depth (mm)"
)
```

Filter rows that have missing bill lengths, because violin series can't handle missing values. first let's find the the rows we want to keep: 

```{julia}
#| eval: false
keep = .!ismissing.(penguins.bill_length_mm)
```

So now this data frame is violin safe...

```{julia}
#| eval: false
bill_lengths = penguins[keep, [:bill_length_mm, :species]]
```

So now we can create a violin plot

```{julia}
#| eval: false
@df bill_lengths plot(
    string.(:species),
    :bill_length_mm,
    seriestype=:violin,
    legend=false,
    xlabel="Species",
    ylabel="Bill Length (mm)"
)
```



